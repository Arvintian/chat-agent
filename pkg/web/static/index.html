<!DOCTYPE html>
<html>

<head>
    <title>Chat-Agent Web</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="login-panel" id="login-panel">
        <h2 id="login-header">ğŸ¤– Chat-Agent</h2>
        <div class="login-controls">
            <select id="chat-select">
                <option value="">-- Select a chat --</option>
            </select>
            <button id="start-btn" onclick="startChat()">Start Chat</button>
        </div>
    </div>

    <div class="page-wrapper" id="chat-panel" style="display: none; flex-direction: column;">
        <div class="header">
            <div class="header-left">
                <span id="agent-header">ğŸ¤– Chat-Agent</span>
            </div>
            <div class="header-right">
                <button id="clear-btn" onclick="showClearModal()" title="Clear Conversation">ğŸ—‘ï¸ Clear</button>
            </div>
        </div>

        <!-- Clear Session Modal -->
        <div id="clear-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>ğŸ—‘ï¸ Clear Conversation</h3>
                    <span class="modal-close" onclick="hideClearModal()">&times;</span>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to clear the conversation for:</p>
                    <p id="clear-chat-name" style="font-weight: bold; margin: 10px 0; color: #667eea;"></p>
                    <p style="color: #666; font-size: 13px;">âš ï¸ This action cannot be undone. All messages will be
                        permanently deleted.</p>
                </div>
                <div class="modal-footer">
                    <button class="btn-cancel" onclick="hideClearModal()">Cancel</button>
                    <button class="btn-confirm" onclick="confirmClear()">Clear</button>
                </div>
            </div>
        </div>

        <div class="toast-container" id="toast-container">
        </div>
        <div id="messages"></div>
        <div id="input-area">
            <div class="input-wrapper">
                <textarea id="message-input" placeholder="Type your message..." onkeydown="handleKeyDown(event)"
                    oninput="autoResize(this)"></textarea>
                <button id="send-btn" onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>